{"version":3,"sources":["lib/ghost-kernel.js"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;;;;;;;AAMO,IAAM,oDAAsB,EAA5B;;;;;;AAMA,IAAM,0DAAyB,EAA/B;;;;IAGM,sBAAA;;;;;;;;;;;;;;;AAYX,uBAAY,UAAZ,EAAgI;AAAA,QAAxG,MAAwG,yDAA/F,+CAA4B,mBAA5B,CAA+F;AAAA,QAA7C,kBAA6C,yDAAxB,sBAAwB;;AAAA;;AAAA,+FACxH,UADwH,EAC5G,MAD4G,EACpG,kBADoG;;AAE9H,UAAK,kBAAL,CAAwB,aAAxB;AAF8H;AAG/H;;;;;;;;;;4BAMO;AACN,WAAK,IAAL,CAAU,OAAV;AACD;;;;;;;;;6CAMwB;AACvB,WAAK,IAAL,CAAU,wBAAV;AACD;;;;;;;;;4BAMO;AACN,WAAK,IAAL,CAAU,OAAV;AACD;;;;;;;;;;;;IAOU,gCAAA;;;;;;AAKX,iCAAY,MAAZ,EAAoB;AAAA;;AAClB,SAAK,OAAL,GAAe,MAAf;AACD;;;;;;;;;;wBAMY;AAAE,aAAO,KAAK,OAAZ;AAAsB","file":"ghost-kernel.js","sourcesContent":["import {RoutableComponent, RoutableComponentRoutes} from 'routable-component';\n\n/**\n * ルーティング設定クラスのリスト\n * @type {RoutableComponentRouting[]}\n */\nexport const GhostKernelRoutings = [];\n\n/**\n * コントローラクラスの連想配列\n * @type {Object<GhostKernelController>}\n */\nexport const GhostKernelControllers = {};\n\n/** Ukagaka baseware ghost instance kernel */\nexport class GhostKernel extends RoutableComponent {\n  /**\n   * constructor\n   * @param {Object<EventEmitter>} components components\n   * @param {Shiorif} components.Shiorif SHIORI interface\n   * @param {Shell} components.View Shell interface\n   * @param {SakuraScriptRunner} components.SakuraScriptRunner SakuraScript Runner\n   * @param {NamedKernelManager} components.NamedKernelManager Named Kernel Manager\n   * @param {TimerEventSource} components.TimerEventSource Timer event source\n   * @param {RoutableComponentRoutes} [routes] ルーティング\n   * @param {Object<class<GhostKernelController>>} [controller_classes] コントローラ\n   */\n  constructor(components, routes = new RoutableComponentRoutes(GhostKernelRoutings), controller_classes = GhostKernelControllers) {\n    super(components, routes, controller_classes);\n    this.register_component('GhostKernel', this);\n  }\n\n  /**\n   * start kernel (emits start event)\n   * @return {void}\n   */\n  start() {\n    this.emit('start');\n  }\n\n  /**\n   * emits protocol version fixed event\n   * @return {void}\n   */\n  protocol_version_fixed() {\n    this.emit('protocol_version_fixed');\n  }\n\n  /**\n   * emits close event\n   * @return {void}\n   */\n  close() {\n    this.emit('close');\n  }\n}\n\n/**\n * カーネル用のコントローラ\n * @implements {RoutableComponentController}\n */\nexport class GhostKernelController {\n  /**\n   * コンストラクタ\n   * @param {GhostKernel} kernel カーネル\n   */\n  constructor(kernel) {\n    this._kernel = kernel;\n  }\n\n  /**\n   * カーネル\n   * @type {GhostKernel}\n   */\n  get kernel() { return this._kernel; }\n}\n"]}